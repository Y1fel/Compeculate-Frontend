# å¾®ä¿¡å°ç¨‹åºç­”é¢˜ç³»ç»Ÿ

è¿™æ˜¯ä¸€ä¸ªåŸºäºå¾®ä¿¡å°ç¨‹åºçš„ç­”é¢˜ç³»ç»Ÿï¼ŒåŒ…å«å®Œæ•´çš„ç”¨æˆ·ç™»å½•ã€ç­”é¢˜ã€æ’è¡Œæ¦œç­‰åŠŸèƒ½æ¨¡å—ï¼Œé‡‡ç”¨ç°ä»£åŒ–çš„ç•Œé¢è®¾è®¡ã€‚

## åŠŸèƒ½ç‰¹æ€§

### ç”¨æˆ·ç³»ç»Ÿ
- âœ… å¾®ä¿¡æˆæƒç™»å½•
- âœ… ç”¨æˆ·ä¿¡æ¯ç®¡ç†ï¼ˆæ˜µç§°ã€å¤´åƒï¼‰
- âœ… ç™»å½•çŠ¶æ€æŒä¹…åŒ–
- âœ… è‡ªåŠ¨ç™»å½•æ£€æŸ¥
- âœ… é€€å‡ºç™»å½•åŠŸèƒ½

### ç­”é¢˜ç³»ç»Ÿ
- âœ… éšæœºé¢˜ç›®ç”Ÿæˆ
- âœ… ç­”é¢˜è®¡æ—¶åŠŸèƒ½
- âœ… ç­”é¢˜ç»“æœç»Ÿè®¡
- âœ… æ­£ç¡®ç‡è®¡ç®—
- âœ… åˆ†æ•°è®¡ç®—ç®—æ³•

### æ’è¡Œæ¦œç³»ç»Ÿ
- âœ… ç”¨æˆ·æ’è¡Œæ¦œå±•ç¤º
- âœ… åˆ†é¡µåŠ è½½
- âœ… ä¸‹æ‹‰åˆ·æ–°
- âœ… å‰ä¸‰åç‰¹æ®Šæ ·å¼

### ä¸ªäººä¸­å¿ƒ
- âœ… ç”¨æˆ·ç»Ÿè®¡ä¿¡æ¯ï¼ˆæ€»ç­”é¢˜æ•°ã€æ€»åˆ†æ•°ã€æ­£ç¡®ç‡ã€æ’åï¼‰
- âœ… ä¸‹æ‹‰åˆ·æ–°æ•°æ®
- âœ… è‡ªåŠ¨æ•°æ®åŠ è½½

### ç•Œé¢è®¾è®¡
- ğŸ¨ ç°ä»£åŒ–æ¸å˜èƒŒæ™¯è®¾è®¡
- ğŸ¨ åº•éƒ¨å¯¼èˆªæ ï¼ˆé¦–é¡µã€ç­”é¢˜ã€æˆ‘çš„ï¼‰
- ğŸ¨ å“åº”å¼å¸ƒå±€é€‚é…
- ğŸ¨ æµç•…çš„åŠ¨ç”»æ•ˆæœ
- ğŸ¨ ç”¨æˆ·å‹å¥½çš„äº¤äº’ä½“éªŒ

## é¡¹ç›®ç»“æ„

```
Compeculate/
â”œâ”€â”€ app.js                 # åº”ç”¨å…¥å£æ–‡ä»¶
â”œâ”€â”€ app.json              # åº”ç”¨é…ç½®æ–‡ä»¶ï¼ˆåŒ…å«TabBaré…ç½®ï¼‰
â”œâ”€â”€ app.wxss              # åº”ç”¨å…¨å±€æ ·å¼
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ login/            # ç™»å½•é¡µé¢
â”‚   â”‚   â”œâ”€â”€ login.js      # ç™»å½•é¡µé¢é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ login.wxml    # ç™»å½•é¡µé¢ç»“æ„
â”‚   â”‚   â”œâ”€â”€ login.wxss    # ç™»å½•é¡µé¢æ ·å¼
â”‚   â”‚   â””â”€â”€ login.json    # ç™»å½•é¡µé¢é…ç½®
â”‚   â”œâ”€â”€ index/            # é¦–é¡µ
â”‚   â”‚   â”œâ”€â”€ index.js      # é¦–é¡µé€»è¾‘
â”‚   â”‚   â”œâ”€â”€ index.wxml    # é¦–é¡µç»“æ„
â”‚   â”‚   â”œâ”€â”€ index.wxss    # é¦–é¡µæ ·å¼
â”‚   â”‚   â””â”€â”€ index.json    # é¦–é¡µé…ç½®
â”‚   â”œâ”€â”€ quiz/             # ç­”é¢˜é¡µé¢
â”‚   â”‚   â”œâ”€â”€ quiz.js       # ç­”é¢˜é¡µé¢é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ quiz.wxml     # ç­”é¢˜é¡µé¢ç»“æ„
â”‚   â”‚   â”œâ”€â”€ quiz.wxss     # ç­”é¢˜é¡µé¢æ ·å¼
â”‚   â”‚   â””â”€â”€ quiz.json     # ç­”é¢˜é¡µé¢é…ç½®
â”‚   â”œâ”€â”€ result/           # ç­”é¢˜ç»“æœé¡µé¢
â”‚   â”‚   â”œâ”€â”€ result.js     # ç»“æœé¡µé¢é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ result.wxml   # ç»“æœé¡µé¢ç»“æ„
â”‚   â”‚   â”œâ”€â”€ result.wxss   # ç»“æœé¡µé¢æ ·å¼
â”‚   â”‚   â””â”€â”€ result.json   # ç»“æœé¡µé¢é…ç½®
â”‚   â”œâ”€â”€ profile/          # ä¸ªäººé¡µé¢
â”‚   â”‚   â”œâ”€â”€ profile.js    # ä¸ªäººé¡µé¢é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ profile.wxml  # ä¸ªäººé¡µé¢ç»“æ„
â”‚   â”‚   â”œâ”€â”€ profile.wxss  # ä¸ªäººé¡µé¢æ ·å¼
â”‚   â”‚   â””â”€â”€ profile.json  # ä¸ªäººé¡µé¢é…ç½®
â”‚   â””â”€â”€ logs/             # æ—¥å¿—é¡µé¢
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ util.js           # é€šç”¨å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ userManager.js    # ç”¨æˆ·ä¿¡æ¯ç®¡ç†å·¥å…·
â”‚   â””â”€â”€ api.js            # API æ¥å£ç®¡ç†
â””â”€â”€ README.md             # é¡¹ç›®è¯´æ˜æ–‡æ¡£
```

## ä½¿ç”¨è¯´æ˜

### 1. ç™»å½•æµç¨‹
1. ç”¨æˆ·é¦–æ¬¡è¿›å…¥åº”ç”¨ä¼šè‡ªåŠ¨è·³è½¬åˆ°ç™»å½•é¡µé¢
2. ç”¨æˆ·é€šè¿‡å¾®ä¿¡æˆæƒè·å–å¤´åƒå’Œæ˜µç§°
3. ç™»å½•æˆåŠŸåè‡ªåŠ¨è·³è½¬åˆ°é¦–é¡µ
4. ç™»å½•çŠ¶æ€ä¼šæŒä¹…åŒ–ä¿å­˜

### 2. ç­”é¢˜æµç¨‹
1. åœ¨é¦–é¡µç‚¹å‡»"å¼€å§‹ç­”é¢˜"è¿›å…¥ç­”é¢˜é¡µé¢
2. ç³»ç»Ÿéšæœºç”Ÿæˆé¢˜ç›®ï¼Œå¼€å§‹è®¡æ—¶
3. ç”¨æˆ·é€‰æ‹©ç­”æ¡ˆï¼Œç³»ç»Ÿè‡ªåŠ¨åˆ¤æ–­æ­£è¯¯
4. ç­”é¢˜å®Œæˆåæ˜¾ç¤ºç»“æœé¡µé¢
5. ç»“æœè‡ªåŠ¨æäº¤åˆ°æœåŠ¡å™¨

### 3. æ’è¡Œæ¦œåŠŸèƒ½
1. åœ¨é¦–é¡µå¯ä»¥æŸ¥çœ‹æ’è¡Œæ¦œ
2. æ”¯æŒåˆ†é¡µåŠ è½½æ›´å¤šæ•°æ®
3. ä¸‹æ‹‰åˆ·æ–°è·å–æœ€æ–°æ’å
4. å‰ä¸‰åæœ‰ç‰¹æ®Šæ ·å¼å±•ç¤º

### 4. ä¸ªäººä¸­å¿ƒ
1. æŸ¥çœ‹ä¸ªäººç»Ÿè®¡ä¿¡æ¯
2. ä¸‹æ‹‰åˆ·æ–°æ›´æ–°æ•°æ®
3. æ”¯æŒé€€å‡ºç™»å½•åŠŸèƒ½

## API æ¥å£è¯´æ˜

### è®¤è¯æ–¹å¼
æ‰€æœ‰ API æ¥å£éƒ½éœ€è¦ Bearer Token è®¤è¯ï¼Œæ ¼å¼ï¼š`Authorization: Bearer <token>`

### ç”¨æˆ·ç›¸å…³æ¥å£

#### 1. ç”¨æˆ·ç™»å½•
```
POST /api/user/login
Content-Type: application/json

Request:
{
  "code": "string"  // å¾®ä¿¡æˆæƒç 
}

Response:
{
  "code": 200,
  "message": "ç™»å½•æˆåŠŸ",
  "data": {
    "token": "string",
    "userInfo": {
      "nickname": "string",
      "avatarUrl": "string"
    }
  }
}
```

#### 2. è·å–ç”¨æˆ·ç»Ÿè®¡
```
GET /api/user/stats
Authorization: Bearer <token>

Response:
{
  "code": 200,
  "message": "è·å–æˆåŠŸ",
  "data": {
    "totalQuizzes": 10,
    "totalScore": 850,
    "accuracy": 85.5,
    "ranking": 5
  }
}
```

### ç­”é¢˜ç›¸å…³æ¥å£

#### 3. æäº¤ç­”é¢˜ç»“æœ
```
POST /api/quiz/submit
Authorization: Bearer <token>
Content-Type: application/json

Request:
{
  "totalQuestions": 10,
  "correctAnswers": 8,
  "timeSpent": 120,
  "score": 85
}

Response:
{
  "code": 200,
  "message": "æäº¤æˆåŠŸ",
  "data": {
    "accuracy": 80.0,
    "ranking": 5
  }
}
```

### æ’è¡Œæ¦œç›¸å…³æ¥å£

#### 4. è·å–æ’è¡Œæ¦œ
```
GET /api/ranking?page=1&limit=20
Authorization: Bearer <token>

Response:
{
  "code": 200,
  "message": "è·å–æˆåŠŸ",
  "data": {
    "list": [
      {
        "nickname": "string",
        "avatarUrl": "string",
        "totalScore": 1000,
        "accuracy": 90.5,
        "ranking": 1
      }
    ],
    "total": 100,
    "page": 1,
    "limit": 20
  }
}
```

## å·¥å…·ç±»è¯´æ˜

### UserManager ç±»
```javascript
const userManager = require('./utils/userManager.js')

// è·å–ç”¨æˆ·ä¿¡æ¯
const userInfo = userManager.getUserInfo()

// ä¿å­˜ç”¨æˆ·ä¿¡æ¯
userManager.saveUserInfo(userInfo)

// è·å– token
const token = userManager.getToken()

// ä¿å­˜ token
userManager.saveToken(token)

// æ£€æŸ¥ç™»å½•çŠ¶æ€
const isLoggedIn = userManager.isLoggedIn()

// æ¸…é™¤ç”¨æˆ·ä¿¡æ¯
userManager.clearUserInfo()
```

### API å·¥å…·ç±»
```javascript
const { userAPI, quizAPI, rankingAPI } = require('./utils/api.js')

// ç”¨æˆ·ç™»å½•
const loginResult = await userAPI.login(code)

// è·å–ç”¨æˆ·ç»Ÿè®¡
const stats = await userAPI.getUserStats()

// æäº¤ç­”é¢˜ç»“æœ
const result = await quizAPI.submitQuiz(data)

// è·å–æ’è¡Œæ¦œ
const ranking = await rankingAPI.getRanking(page, limit)
```

## å¼€å‘è¯´æ˜

### ç¯å¢ƒè¦æ±‚
- å¾®ä¿¡å¼€å‘è€…å·¥å…·
- å¾®ä¿¡å°ç¨‹åºåŸºç¡€åº“ 2.10.4 åŠä»¥ä¸Šç‰ˆæœ¬
- Node.js åç«¯æœåŠ¡

### å¼€å‘æ­¥éª¤
1. å…‹éš†é¡¹ç›®åˆ°æœ¬åœ°
2. ä½¿ç”¨å¾®ä¿¡å¼€å‘è€…å·¥å…·æ‰“å¼€é¡¹ç›®
3. é…ç½®åç«¯ API åœ°å€
4. åœ¨æ¨¡æ‹Ÿå™¨ä¸­æµ‹è¯•å„é¡¹åŠŸèƒ½
5. çœŸæœºè°ƒè¯•éªŒè¯

### é…ç½®è¯´æ˜
åœ¨ `utils/api.js` ä¸­é…ç½®åç«¯ API åœ°å€ï¼š
```javascript
const BASE_URL = 'https://your-api-domain.com'
```

## æ³¨æ„äº‹é¡¹

1. **æƒé™è¦æ±‚**ï¼šéœ€è¦ç”¨æˆ·æˆæƒè·å–å¤´åƒå’Œæ˜µç§°
2. **ç½‘ç»œè¯·æ±‚**ï¼šæ‰€æœ‰ API è¯·æ±‚éƒ½éœ€è¦ç½‘ç»œæƒé™
3. **æ•°æ®å®‰å…¨**ï¼šToken å­˜å‚¨åœ¨æœ¬åœ°ï¼Œæ³¨æ„å®‰å…¨æ€§
4. **é”™è¯¯å¤„ç†**ï¼š401 é”™è¯¯ä¼šè‡ªåŠ¨è·³è½¬åˆ°ç™»å½•é¡µé¢
5. **æ€§èƒ½ä¼˜åŒ–**ï¼šåˆç†ä½¿ç”¨ç¼“å­˜ï¼Œé¿å…é¢‘ç¹è¯·æ±‚

## æ›´æ–°æ—¥å¿—

### v2.0.0 (2024-01-XX)
- âœ… é›†æˆåç«¯ API æ¥å£
- âœ… å®Œå–„ç­”é¢˜ç³»ç»ŸåŠŸèƒ½
- âœ… æ·»åŠ æ’è¡Œæ¦œåŠŸèƒ½
- âœ… ä¼˜åŒ–ç”¨æˆ·ç»Ÿè®¡å±•ç¤º
- âœ… ç»Ÿä¸€é”™è¯¯å¤„ç†æœºåˆ¶

### v1.1.0 (2024-01-XX)
- âœ… æ·»åŠ åº•éƒ¨å¯¼èˆªæ 
- âœ… é‡æ–°è®¾è®¡é¦–é¡µç•Œé¢
- âœ… åˆ›å»ºä¸ªäººé¡µé¢
- âœ… ä¼˜åŒ–æ•´ä½“ç”¨æˆ·ä½“éªŒ

### v1.0.0 (2024-01-XX)
- âœ… å®Œæˆç™»å½•æ¨¡å—å¼€å‘
- âœ… å®ç°ç”¨æˆ·ä¿¡æ¯ç®¡ç†
- âœ… è®¾è®¡ç°ä»£åŒ–UIç•Œé¢
- âœ… æ·»åŠ å®Œæ•´çš„é”™è¯¯å¤„ç†

## è®¸å¯è¯

MIT License 